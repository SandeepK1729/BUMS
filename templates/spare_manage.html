
<div class="container">
    <h1>Usage Of Spare : {{ name_of_spare }}</h1>
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                {% for i in range(headers2|length) %}
                    <th scope="col"> {{ headers2[i][0] }} </th>
                {% endfor %}
                <th scope="col">UPDATE</th>
                <th scope="col">REMOVE</th>
            </tr>
        </thead>
        <tbody class="table-group-divider">
            {% for row in table2 %}
                <tr scope="row" class="table-data">
                    <form method="post">
                        <div>
                            <input type="hidden" name="show_spare" value="{{ row[0] }}">
                            <input type="hidden" name="UPDATE_SPARE_DATA" value="{{ row[0] }}">
                            <input type="hidden" name="NAME OF SPARE" value="{{ name_of_spare }}">
                            <input type="hidden" name="CAT PART NO" value="{{ cat_part_no }}">
                        
                            {% for i in range(1, row|length) %}
                                <td class="table-data text-center"> <input name="{{ headers2[i - 1][0] }}" type="{{ headers2[i - 1][1] }}"value="{{ row[i] }}"></td>
                            {% endfor %}
                        </div>
                        <td><input type="submit" value="UPDATE" class="btn btn-secondary"></td>

                    </form>
    
                    <td class="m-0">
                        <form method="post">
                            <input type="hidden" name="show_spare" value="{{ row[0] }}">
                            <input type="hidden" name="NAME OF SPARE" value="{{ name_of_spare }}">
                            <input type="hidden" name="CAT PART NO" value="{{ cat_part_no }}">
                        
                            <input type="hidden" name="DELETE" value="{{ row[0] }}">
                            <input type="submit" value="REMOVE" class="btn btn-secondary rounded">
                        </form>
                    </td>
                    <form method="post">
                        <div>
                            
                            <input type="hidden" name="show_spare" value="{{ row[0] }}">
                            <input type="hidden" name="TRANSFER">
                            <input type="hidden" name="NAME OF SPARE" value="{{ name_of_spare }}">
                            <input type="hidden" name="CAT PART NO" value="{{ cat_part_no }}">
                            <input type="hidden" name="SECTION NO" value="{{ section_no }}">
                            {% for i in range(1, row|length) %}
                                <input name="{{ headers2[i - 1][0] }}" type="hidden" value="{{ row[i] }}">
                            {% endfor %}
                            <td class="table-data" >
                                <select name="TRANSFER {{ headers2[0][0] }}" id="TRANSFER {{ headers2[0][0] }}">
                                    <option value="Select Det Name" selected  disabled>Select Det Name</option>
                                    {% for type in choices[headers2[0][0]] %}
                                        <option value="{{ type }}">{{ type }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                            <td class="table-data" >
                                <input type="{{ headers2[1][1] }}" name="TRANSFER {{ headers2[1][0] }}" id="TRANSFER {{ headers2[1][0] }}" class="m-0 w-100" required>
                            </td>
                            <td><input type="submit" value="TRANSFER" class="btn btn-secondary"></td>
                        </div>
                    </form>
                    
                </tr>
            
            {% endfor %}
            <tr scope="row">
                <form method = "POST">
                    <div>
                        <input type="hidden" name="show_spare" value="">
                        <input type="hidden" name="SADD" value="hello">
                        <input type="hidden" name="NAME OF SPARE" value="{{ name_of_spare }}">
                        <input type="hidden" name="CAT PART NO" value="{{ cat_part_no }}">
                        <input type="hidden" name="SECTION NO" value="{{ section_no }}">

                        <td class="table-data" >
                            <select name="{{ headers2[0][0] }}" id="{{ headers2[0][0] }}">
                                <option value="Select Det Name" selected  disabled>Select Det Name</option>
                                {% for type in choices[headers2[0][0]] %}
                                    <option value="{{ type }}">{{ type }}</option>
                                {% endfor %}
                            </select>
                        </td>
                        <td class="table-data" >
                            <input type="{{ headers2[1][1] }}" name="{{ headers2[1][0] }}" id="{{ headers2[1][0] }}" class="m-0 w-100" required>
                        </td>
                        
                        <td><input type="submit" value="Add" class="btn btn-primary m-0"></td>
                    </div>
                </form>
                        
                
            </tr> 
        </tbody>
    </table>    
</div>